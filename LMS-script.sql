DROP TABLE MEMBER CASCADE CONSTRAINTS;
DROP TABLE PUBLISHER CASCADE CONSTRAINTS;
DROP TABLE BOOK CASCADE CONSTRAINTS; 
DROP TABLE STAFF CASCADE CONSTRAINTS; 
DROP TABLE BORROW CASCADE CONSTRAINTS; 

CREATE TABLE MEMBER (
    MemberID NUMBER(6), 
    fname VARCHAR2(15), 
    lname VARCHAR2(15),
    Phone NUMBER(11), 
    Address VARCHAR2(20), 
    Email  VARCHAR2(15), 
    CONSTRAINT MEMBER_MEMBER_ID_PK PRIMARY KEY (MemberID)
);

CREATE TABLE PUBLISHER (
    PublisherID NUMBER(6), 
    PublisherName VARCHAR2(15),
    PubAddress VARCHAR2(15), 
    PubEmail VARCHAR2 (10), 
    CONSTRAINT PUBLISHER_PUBLISHER_ID_PK PRIMARY KEY (PublisherID)   
);

CREATE TABLE BOOK (
    BookID NUMBER(5), 
    Title VARCHAR2(10), 
    ISBN NUMBER(13), 
    Year DATE, 
    Genre VARCHAR2(10), 
    PublisherID NUMBER (6), 
    CONSTRAINT BOOK_BOOK_ID_PK PRIMARY KEY (BookID),
    CONSTRAINT BOOK_PUBLISHER_ID_FK FOREIGN KEY (PublisherID) REFERENCES PUBLISHER
);

CREATE TABLE STAFF (
    StaffID NUMBER(6), 
    StaffName VARCHAR2(15),
    Position VARCHAR2(10), 
    StaffEmail VARCHAR2 (10), 
    StaffPhone NUMBER (11), 
    CONSTRAINT STAFF_STAFF_ID_FK PRIMARY KEY (StaffID)
);

CREATE TABLE BORROW (
    BorrowID NUMBER(4), 
    BorrowDate DATE,
    ReturnDate DATE, 
    StaffID NUMBER(6), 
    MemberID NUMBER(6), 
    BookID NUMBER(5),
    CONSTRAINT BORROW_BORROW_ID_PK PRIMARY KEY (BorrowID), 
    CONSTRAINT BORROW_STAFF_ID_FK FOREIGN KEY (StaffID) REFERENCES STAFF,
    CONSTRAINT BORROW_MEMBER_ID_FK FOREIGN KEY (MemberID) REFERENCES MEMBER,
    CONSTRAINT BORROW_BOOK_ID_FK FOREIGN KEY (BookID) REFERENCES BOOK
);

ALTER TABLE MEMBER MODIFY (Email VARCHAR(30)); 
ALTER TABLE MEMBER MODIFY (Phone VARCHAR2(12)); 
ALTER TABLE PUBLISHER MODIFY PubEmail VARCHAR2(30);
ALTER TABLE PUBLISHER MODIFY PublisherName VARCHAR(30); 
ALTER TABLE BOOK MODIFY Title VARCHAR2(35); 
ALTER TABLE BOOK MODIFY Genre VARCHAR2(25); 
ALTER TABLE BOOK MODIFY Year NUMBER(4); 
ALTER TABLE BOOK ADD BookStatus VARCHAR2(20) DEFAULT 'Available';  
ALTER TABLE STAFF MODIFY StaffPhone VARCHAR2(12); 
ALTER TABLE STAFF MODIFY StaffEmail VARCHAR2(25); 
ALTER TABLE STAFF MODIFY StaffName VARCHAR2(25); 
ALTER TABLE BORROW ADD (ActualReturnDate DATE); 

INSERT INTO MEMBER VALUES (001420, 'Raju', 'Subramaniam', '014-44400022', 'Los Angeles', 'kumavenger@gmail.com'); 
INSERT INTO MEMBER VALUES (001421, 'Abdul', 'Gandalf', '012-34567890', 'Las Vegas', 'kumavenger@gmail.com'); 
INSERT INTO MEMBER VALUES (001422, 'Alice', 'Johnson', '012-87654321', 'New York', 'alice@gmail.com');
INSERT INTO MEMBER VALUES (001423, 'Kaitniss', 'Everdeen', '014-98765432', 'Chicago', 'Kaitniss@gmail.com');
INSERT INTO MEMBER VALUES (001424, 'Harry', 'Maguire', '011-23456789', 'San Francisco', 'TheGOAT@gmail.com');
INSERT INTO MEMBER VALUES (001425, 'Adolf', 'Hitler', '017-76543210', 'Bayern', 'dreireich@gmail.com');
INSERT INTO MEMBER VALUES (001426, 'Mao', 'Zedong', '019-12345678', 'Beijing', 'pooh@gmail.com');       
INSERT INTO MEMBER VALUES (001427, 'Kadoya', 'Tsukasa', '015-11112222', 'Akihabara', 'decade@gmail.com');
INSERT INTO MEMBER VALUES (001428, 'Peter', 'Parker', '013-33334444', 'New York', 'spidey@gmail.com');
INSERT INTO MEMBER VALUES (001429, 'Michael', 'Jackson', '016-55556666', 'Indiana', 'heehee@gmail.com');

INSERT INTO PUBLISHER VALUES (100000, 'Kiyosaki', 'Kuantan', 'robertkiyo@gmail.com' ); 
INSERT INTO PUBLISHER VALUES (100001, 'Tolkien', 'Selangor', 'tolkien@gmail.com' ); 
INSERT INTO PUBLISHER VALUES (100002, 'J.K. Rowling', 'Sabah', 'Rowling@gmail.com' ); 
INSERT INTO PUBLISHER VALUES (100003, 'Adnin', 'Kota Bahru', 'dakwahsentap@gmail.com' ); 
INSERT INTO PUBLISHER VALUES (100004, 'Abdul Latip', 'London', 'abdullatiptalib@gmail.com' ); 
INSERT INTO PUBLISHER VALUES (100005, 'Aenid Abdullah', 'Vancouver', 'aenidabdullah@gmail.com' ); 
INSERT INTO PUBLISHER VALUES (100006, 'Prof. Hamka', 'Tokyo', 'Hamkalegend@gmail.com' ); 
INSERT INTO PUBLISHER VALUES (100007, 'Ayman Wong', 'Seoul', 'aymanwong@gmail.com' ); 
INSERT INTO PUBLISHER VALUES (100008, 'Veronica', 'Guangzhou', 'vroth@gmail.com' ); 
INSERT INTO PUBLISHER VALUES (100009, 'Jamil', 'St. Petersburg', 'Jamil@gmail.com' ); 
INSERT INTO PUBLISHER VALUES (100010, 'S. Hawking', 'Melaka', 'eipstein@gmail.com' ); 

INSERT INTO BOOK VALUES(50010, 'Rich Dad Poor Dad', 9781612680163, 2017, 'Finance', 100000, 'Available'); 
INSERT INTO BOOK VALUES(50011, 'Lord of the Ring', 9780525533189, 1990, 'Fantasy', 100001, 'Unavailable'); 
INSERT INTO BOOK VALUES(50012, 'Harry Potter', 9780066620819, 2040, 'Fantasy', 100002, 'Available'); 
INSERT INTO BOOK VALUES(50013, 'Tuhan Aku Ingin Sembuh', 9780316015844, 1400, 'Motivation', 100003, 'Available'); 
INSERT INTO BOOK VALUES(50014, 'Sultan Muhammad Al-Fateh', 9780743273565, 2008, 'History', 100004, 'Available'); 
INSERT INTO BOOK VALUES(50015, 'Aku Seorang Patriot', 9781400064113, 2008, 'Personal Diary', 100005, 'Available'); 
INSERT INTO BOOK VALUES(50016, 'Tenggelamnya Kapal Van Dijk', 9780142004231, 1980, 'History', 100006, 'Available'); 
INSERT INTO BOOK VALUES(50017, 'Dunia Tanpa Tembok', 9780142009999, 2021, 'Diary', 100007, 'Available'); 
INSERT INTO BOOK VALUES(50018, 'Divergence', 9780195153441, 2003, 'Science Fiction', 100008, 'Available'); 
INSERT INTO BOOK VALUES(50019, 'Buku Nota 555', 9780141153441, 2010, 'Science Fiction', 100009, 'Available'); 
INSERT INTO BOOK VALUES(50020, 'Theory of Everything', 9780195153441, 1988, 'Science', 100010, 'Available'); 

INSERT INTO STAFF VALUES (202000, 'Yujiro Hanma', 'Director', 'hanma@gmail.com', '019-00100110'); 
INSERT INTO STAFF VALUES (203000, 'Orichi Doppo', 'Manager', 'southtiger@gmail.com', '013-90190412'); 
INSERT INTO STAFF VALUES (204000, 'Pickle', 'Assistant', 'relics@gmail.com', '014-8592811'); 
INSERT INTO STAFF VALUES (205000, 'Hanayama Kaoru', 'Assistant', 'YuchiGumi@gmail.com', '013-75196117'); 
INSERT INTO STAFF VALUES (206000, 'Jack Hanma', 'Assistant', 'jack@gmail.com', '019-71987161'); 
INSERT INTO STAFF VALUES (207000, 'Baki Hanma', 'Manager', 'baki@gmail.com', '015-34567890');
INSERT INTO STAFF VALUES (208000, 'Retsu Kaioh', 'Assistant', 'retsu@gmail.com', '014-56789012');
INSERT INTO STAFF VALUES (209000, 'Kozue Matsumoto', 'Assistant', 'kozue@gmail.com', '016-12345678');
INSERT INTO STAFF VALUES (210000, 'Motobe Izo', 'Supervisor', 'motobe@gmail.com', '017-98765432');
INSERT INTO STAFF VALUES (211000, 'Kureha Shinogi', 'Assistant', 'kureha@gmail.com', '018-87654321');

INSERT INTO BORROW VALUES (1234, TO_DATE('15-01-2023', 'DD-MM-RRRR'), TO_DATE('24-01-2023', 'DD-MM-RRRR'), 202000, 1421, 50010, TO_DATE('23-01-2023', 'DD-MM-RRRR'));
INSERT INTO BORROW VALUES (2888, TO_DATE('01-02-2023', 'DD-MM-RRRR'), TO_DATE('01-03-2023', 'DD-MM-RRRR'), 203000, 1423, 50012, TO_DATE('01-04-2023', 'DD-MM-RRRR'));
INSERT INTO BORROW VALUES (3581, TO_DATE('10-03-2023', 'DD-MM-RRRR'), TO_DATE('10-04-2023', 'DD-MM-RRRR'), 204000, 1425, 50014, TO_DATE('10-04-2023', 'DD-MM-RRRR'));
INSERT INTO BORROW VALUES (4155, TO_DATE('05-04-2023', 'DD-MM-RRRR'), TO_DATE('25-04-2023', 'DD-MM-RRRR'), 205000, 1427, 50017, TO_DATE('23-05-2023', 'DD-MM-RRRR'));
INSERT INTO BORROW VALUES (5053, TO_DATE('20-05-2023', 'DD-MM-RRRR'), TO_DATE('08-06-2023', 'DD-MM-RRRR'), 206000, 1429, 50018, TO_DATE('09-06-2023', 'DD-MM-RRRR'));
INSERT INTO BORROW VALUES (6291, TO_DATE('15-06-2023', 'DD-MM-RRRR'), TO_DATE('15-07-2023', 'DD-MM-RRRR'), 202000, 1422, 50013, TO_DATE('15-07-2023', 'DD-MM-RRRR'));
INSERT INTO BORROW VALUES (7000, TO_DATE('01-07-2023', 'DD-MM-RRRR'), TO_DATE('01-08-2023', 'DD-MM-RRRR'), 203000, 1428, 50015, TO_DATE('01-08-2023', 'DD-MM-RRRR'));
INSERT INTO BORROW VALUES (8001, TO_DATE('12-08-2023', 'DD-MM-RRRR'), TO_DATE('25-08-2023', 'DD-MM-RRRR'), 209000, 1424, 50019, TO_DATE('20-08-2023', 'DD-MM-RRRR'));
INSERT INTO BORROW VALUES (9002, TO_DATE('05-09-2023', 'DD-MM-RRRR'), TO_DATE('15-09-2023', 'DD-MM-RRRR'), 210000, 1427, 50011, TO_DATE('30-10-2023', 'DD-MM-RRRR'));
INSERT INTO BORROW VALUES (1003, TO_DATE('18-10-2023', 'DD-MM-RRRR'), TO_DATE('30-10-2023', 'DD-MM-RRRR'), 211000, 1420, 50016, TO_DATE('25-10-2023', 'DD-MM-RRRR'));

COMMIT;






